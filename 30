/*
30. Leia duas cadeias de caracteres A e B.
Determine quantas vezes a cadeia A ocorre na cadeia B.



    /*

      B = "banana"   // tamB = 6
      A = "ana"      // tamA = 3

      Valores possÃ­veis de i
      i = 0 â†’ B[0..2]
      i = 1 â†’ B[1..3]
      i = 2 â†’ B[2..4]
      i = 3 â†’ B[3..5]

      Por isso o limite Ã© tamB - tamA (6 - 3 = 3)

      Se passasse disso, faltariam caracteres para comparar.




      ğŸ”¹ Tentativa 1 â†’ i = 0

            Compara:

            j	B[i + j]	A[j]
            0	B[0] = 'b'	A[0] = 'a' âŒ

            â›” Para aqui (break)

      ğŸ”¹ Tentativa 2 â†’ i = 1

            Compara:

            j	B[i + j]	A[j]
            0	B[1] = 'a'	A[0] = 'a' âœ…
            1	B[2] = 'n'	A[1] = 'n' âœ…
            2	B[3] = 'a'	A[2] = 'a' âœ…

            âœ”ï¸ Aqui j percorreu 0 â†’ 1 â†’ 2
            âœ”ï¸ Isso Ã© 3 comparaÃ§Ãµes, nÃ£o salto de Ã­ndice

    */

#include <stdio.h>   // Biblioteca padrÃ£o de entrada e saÃ­da (printf, scanf, fgets)
#include <stdlib.h>  // Biblioteca padrÃ£o (para system("pause"))
#include <string.h>  // Biblioteca para manipulaÃ§Ã£o de strings (strlen)

int main()  // FunÃ§Ã£o principal do programa
{
    char A[50];   // Declara a string A (cadeia a ser procurada)
    char B[200];  // Declara a string B (cadeia onde serÃ¡ feita a busca)
    int i, j;     // VariÃ¡veis de controle para os laÃ§os // i = B (externo) e j = A (interno)
    int contador = 0; // ContarÃ¡ quantas vezes A aparece dentro de B
    int tamA, tamB;   // Armazenam os tamanhos de A e B

    // --- ENTRADA DE DADOS ---

    printf("Digite a cadeia A: ");   // Solicita a string A ao usuÃ¡rio
    fgets(A, sizeof(A), stdin);      // LÃª a string A (permite espaÃ§os)

    // Remove o '\n' (Enter) que o fgets adiciona no final da string
    A[strcspn(A, "\n")] = '\0';

    printf("Digite a cadeia B: ");   // Solicita a string B ao usuÃ¡rio
    fgets(B, sizeof(B), stdin);      // LÃª a string B (permite espaÃ§os)

    // Remove o '\n' final de B, se existir
    B[strcspn(B, "\n")] = '\0';

    // --- PROCESSAMENTO ---

    tamA = strlen(A);  // Calcula o tamanho (quantidade de caracteres) da string A
    tamB = strlen(B);  // Calcula o tamanho da string B

    for (i = 0; i <= tamB - tamA; i++) // LaÃ§o externo: Parte de B
    {
        // LaÃ§o interno: compara caractere por caractere de A com uma parte de B
        for (j = 0; j < tamA; j++)
        {
            if (B[i + j] != A[j])  // Se um caractere for diferente
                break;              // Interrompe a comparaÃ§Ã£o (nÃ£o Ã© uma ocorrÃªncia)
        }

        // Se o laÃ§o interno percorreu toda a string A sem interrupÃ§Ã£o
        if (j == tamA)
            contador++;  // Incrementa o contador de ocorrÃªncias
    }

    // --- SAÃDA DE RESULTADOS ---

    printf("\nA cadeia A ocorre %d vez(es) dentro da cadeia B.\n", contador);
    // Exibe quantas vezes A foi encontrada em B

    system("pause");  // Pausa o programa (funciona apenas no Windows)
    return 0;         // Indica que o programa terminou com sucesso
}
