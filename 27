/*
27. Faça um programa que, dada uma string, diga se ela é um palíndromo ou não.
Um palíndromo é uma palavra ou frase que pode ser lida da esquerda para a direita
e da direita para a esquerda mantendo o mesmo sentido.





O que é considerado (ou não) em um palíndromo?

Em palíndromos de frases, não se leva em conta:

Espaços

Pontuação (vírgula, ponto, hífen etc.)

Acentos gráficos

Diferença entre maiúsculas e minúsculas

Ou seja, a comparação é feita somente com as letras, todas normalizadas.





socorrammesubinoonibusemmarrocos
✔Isso é exatamente o que se compara em um algoritmo de palíndromo em C.





Exemplos:
ovo
arara
Socorram-me, subi no ônibus em Marrocos. socorram me subino onibus
Anotaram a data da maratona
*/

#include <stdio.h>   // printf, scanf, fgets
#include <stdlib.h>  // system("pause")
#include <string.h>  // strlen
#include <ctype.h>   // tolower, isalpha

int main() // Função principal do programa
{
    char frase[200];      // Declara um vetor para armazenar a frase digitada (até 199 caracteres + '\0')    - i
    char limpa[200];      // Vetor auxiliar que armazenará apenas letras (sem espaços nem pontuação)         - j
    int i, j;             // Variáveis de controle para os laços
    int tamanho;          // Variável que armazenará o tamanho da string "limpa"
    int ehPalindromo = 1; // Variável booleana (1 = sim, 0 = não), assume que é palíndromo inicialmente

    // --- ENTRADA DE DADOS ---
    printf("Digite uma frase: ");        // Solicita que o usuário digite uma frase
    fgets(frase, sizeof(frase), stdin);  // Lê a frase digitada (permite espaços)

    // Remove o caractere '\n' (Enter) adicionado pelo fgets no final
    frase[strcspn(frase, "\n")] = '\0';

    // --- LIMPEZA DA STRING ---
    j = 0; // Inicializa o índice da string limpa em 0
    for (i = 0; i < strlen(frase); i++)  // Percorre todos os caracteres da frase
    {
        if (isalpha(frase[i]))           // Verifica se o caractere atual é uma letra
        {
            limpa[j] = tolower(frase[i]); // Converte a letra para minúscula e copia para 'limpa'
            j++;                          // Incrementa o índice de 'limpa'
        }
        // Se não for letra, simplesmente ignora (não copia)
    }
    limpa[j] = '\0'; // Finaliza a string limpa com o caractere nulo '\0'

    tamanho = strlen(limpa); // Calcula o tamanho da string limpa (quantas letras foram copiadas)

    // --- VERIFICAÇÃO DO PALÍNDROMO ---
        /*

           i = 0 (primeira letra)
           j = tamanho -1 (última letra)
           i < j (Enquanto o índice da esquerda (i) for menor que o da direita (j), continue comparando)
           i++ (anda uma posição para a direita)
           j-- (anda uma posição para a esquerda)

        */

            /*
                limpa[i] → letra na posição i (da esquerda)

                limpa[j] → letra na posição j (da direita)
            */

    for (i = 0, j = tamanho - 1; i < j; i++, j--) // Compara a primeira letra com a última, depois a segunda com a penúltima, e assim por diante
    {
        if (limpa[i] != limpa[j]) // Se encontrar letras diferentes
        {
            ehPalindromo = 0; // Marca como "não é palíndromo"
            break;            // Encerra o laço (não precisa continuar verificando)
        }
    }

    // --- RESULTADO ---
    if (ehPalindromo) // Se a variável continuar com valor 1
        printf("\nA frase EH um palindromo!\n"); // Exibe que a frase é um palíndromo
    else
        printf("\nA frase NAO eh um palindromo.\n"); // Caso contrário, exibe que não é

    system("pause"); // Pausa o programa (funciona apenas no Windows)
    return 0;        // Indica que o programa terminou com sucesso
}
