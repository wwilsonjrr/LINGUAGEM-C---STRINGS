/*
19. Escreva um programa que leia a idade e o primeiro nome de até 10 pessoas.
    O programa deve terminar quando uma idade negativa for digitada.
    Ao terminar, deve escrever o nome e a idade das pessoas mais jovens e mais velhas.
*/

#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(void)
{
    char nome[10][50];   // Armazena até 10 nomes (cada um com até 49 chars + '\0')
    int idade[10];       // Armazena até 10 idades
    int i = 0;           // Quantidade de pessoas válidas lidas
    int maisNovo = 0;    // Índice do mais novo
    int maisVelho = 0;   // Índice do mais velho

    printf("==========================================\n");
    printf(" CADASTRO DE NOMES E IDADES (MAX 10 PESSOAS)\n");
    printf(" Digite idade negativa para encerrar.\n");
    printf("==========================================\n\n");

    while (i < 10) // Lê no máximo 10 pessoas
    {
        printf("Digite o nome da pessoa %d: ", i + 1);
        fgets(nome[i], sizeof(nome[i]), stdin);

        // Remove o '\n' que o fgets pode armazenar (se existir)
        nome[i][strcspn(nome[i], "\n")] = '\0';

        printf("Digite a idade de %s: ", nome[i]);
        scanf("%d", &idade[i]);
        getchar(); // Consome o '\n' deixado pelo scanf

        // Condição de parada: idade negativa encerra
        if (idade[i] < 0)
        {
            printf("\nIdade negativa detectada. Encerrando a entrada de dados.\n\n");
            break;
        }

        // Opcional - Boa prática: Esta é a primeira pessoa válida que acabou de ser lida
        if (i == 0)
        {
            maisNovo = 0;
            maisVelho = 0;
        }
        else
        {
            // Atualiza o índice do mais velho
            if (idade[i] > idade[maisVelho])
                maisVelho = i;

            // Atualiza o índice do mais novo
            if (idade[i] < idade[maisNovo])
                maisNovo = i;
        }

        i++; // Passa para a próxima pessoa (próxima linha do vetor)
    }

    // Só imprime resultados se pelo menos 1 pessoa válida foi cadastrada
    if (i > 0)
    {
        printf("==========================================\n");
        printf("Pessoa mais nova:  %s (%d anos)\n", nome[maisNovo], idade[maisNovo]);
        printf("Pessoa mais velha: %s (%d anos)\n", nome[maisVelho], idade[maisVelho]);
        printf("==========================================\n");
    }
    else
    {
        printf("Nenhum dado válido foi inserido.\n");
    }

    system("pause"); // (Windows) pause para ver a saída
    return 0;
}
